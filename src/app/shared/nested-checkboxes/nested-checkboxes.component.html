<main class="category">
  <img class="category__icon"
    *ngIf="imagePath"
    [src]="imagePath"
    alt="{{region.name}}"
  />
  <div class="category__icon-cover"
    *ngIf="imagePath && lookup(region).checkboxState === 'unchecked'"
  ></div>
  <section class="category__wrapper">
    <app-checkbox class="category__checkbox"
      [invertColors]="true"
      [value]="region.name"
      [state]="lookup(region).checkboxState"
      (changed)="onCategoryChange($event)"
      >
      {{region.name}} ({{lookup(region).current}} / {{lookup(region).total}})
    </app-checkbox>
    <app-checkbox class="subcategory__checkbox"
      *ngFor="let subregion of region.subcategories"
      [value]="subregion.name"
      [state]="lookup(subregion).checkboxState"
      (changed)="onSubcategoryChange($event, subregion)"
      >
      {{subregion.name}} ({{lookup(subregion).total}})
    </app-checkbox>
  </section>
</main>
