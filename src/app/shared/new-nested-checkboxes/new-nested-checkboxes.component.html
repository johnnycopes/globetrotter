<app-checkbox
  [ngModel]="checkboxStates && checkboxStates[treeProvider.getItemID(item)]"
  (ngModelChange)="updateCheckboxState($event)"
  >
  {{treeProvider.getItemDisplayName(item)}}
</app-checkbox>
<ul>
  <li *ngFor="let childItem of childItems">
    <app-new-nested-checkboxes
      [ngModel]="checkboxStates"
      (ngModelChange)="updateAllCheckboxStates($event)"
      [treeProvider]="treeProvider"
      [item]="childItem"
    ></app-new-nested-checkboxes>
  </li>
</ul>
